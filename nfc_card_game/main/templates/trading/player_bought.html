{% extends "base.html" %}
{% load static %}


{% block title %}{{ player.name }}{% endblock %}

{% block content %}
<head>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.0/font/bootstrap-icons.css">
  <link rel="shortcut icon"  href="{% static '/images/favicon.png' %}">
</head>

<body>
  <div class="container pt-2">
    <div class="card shadow">
      <div class="card-body">
        <span class="bi-minecart-loaded h1" style="filter: invert(0%)"></span>
        <h5 class="card-title">{{ post.0.post.name }}</h5>
        <h4>Je hebt {{ buy_amount }} gekocht!</h4>
        <form method="post">
          {% csrf_token %}
          {% for amount in buy_amounts %}
            <button type="submit" name="amount" value="{{ amount }}">{{ amount }}</button>
          {% endfor %}
        </form>
        {% if action.status == "ok" %}
        <table class="table">
          <thead class="thead-dark">
            <tr>
              <th scope="col">Gekocht:</th>
              <th scope="col">Voor:</th>
            </tr>
          </thead>
          <tbody>
            {% for item, amount in action.costs.items %}
            <tr>
              {% if forloop.counter0 == 0 %}
                {% if action.bought.item != None %}
                <td class="table-success">{{ action.bought.amount }}x {{ action.bought.item }}</td>
                {% else %}
                  <td></td>
                {% endif %}
              {% else %}
                <td></td>
              {% endif %}
              <td class="table-danger">{{ amount.amount }}x {{ item }}</td>
            <tr>
            {% endfor %}
          </tbody>
        </table>
        {% else %}
          <p>{{ action.status }}: {{ action.log }}</p>
        {% endif %}
      </div>
    </div>
  </div>

  <div class="container pt-2">
    <div class="accordion card shadow">
      <div class="card-header align-items-center">
        <h4 class="m-0">{{ player.name }}'s inventory</h4>
      </div>
      <div class="card-body">
        <table class="table table-striped">
          <thead>
            <tr>
              <th scope="col">Item</th>
              <th scope="col">Hoeveelheid</th>
            </tr>
          </thead>
          <tbody>
            {% for item in items %}
              <tr>
                <td>{{ item.item }}</td>
                <td>{{ item.amount }}</td>
              </tr>
            {% endfor %}
          </tbody>
        </table>
    </div>
  </div>
</body>


{% endblock content %}

