[gd_scene load_steps=8 format=3 uid="uid://ca1ddejybbu0g"]

[ext_resource type="Script" path="res://Scripts/GameController.gd" id="1_y0gn5"]
[ext_resource type="Script" path="res://Scripts/WebSocketClient.gd" id="2_tpx8r"]
[ext_resource type="Script" path="res://Scripts/MinerGrid.gd" id="3_gpr4m"]
[ext_resource type="Texture2D" uid="uid://cq153cuh0k6uv" path="res://Sprites/Mountain/sky1.jpg" id="3_ikvi8"]
[ext_resource type="Texture2D" uid="uid://cnsgveexu0abx" path="res://Sprites/Mountain/mountain1.png" id="4_ca4uh"]
[ext_resource type="PackedScene" uid="uid://njrfi5t72vqk" path="res://Prefabs/TeamPanel.tscn" id="5_120pg"]
[ext_resource type="Script" path="res://Scripts/WindowManager.gd" id="11_6qksi"]

[node name="Root" type="Node"]

[node name="WindowManager" type="Node" parent="."]
script = ExtResource("11_6qksi")

[node name="GameController" type="Node" parent="."]
script = ExtResource("1_y0gn5")

[node name="StatsHttpClient" type="HTTPRequest" parent="GameController"]
body_size_limit = 24000000
timeout = 30.0

[node name="WebSocketClient" type="Node" parent="GameController"]
script = ExtResource("2_tpx8r")

[node name="Viewport" type="Control" parent="."]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="Background" type="TextureRect" parent="Viewport"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
texture = ExtResource("3_ikvi8")
expand_mode = 3
stretch_mode = 6

[node name="AspectRatio" type="AspectRatioContainer" parent="Viewport"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
ratio = 1.7778
alignment_vertical = 2

[node name="ReferenceRect" type="ReferenceRect" parent="Viewport/AspectRatio"]
layout_mode = 2
border_width = 2.0

[node name="Mountain" type="TextureRect" parent="Viewport/AspectRatio/ReferenceRect"]
modulate = Color(0.3, 0.5, 1, 1)
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
texture = ExtResource("4_ca4uh")
expand_mode = 3

[node name="Columns" type="HBoxContainer" parent="Viewport/AspectRatio"]
layout_mode = 2
theme_override_constants/separation = 20
alignment = 1

[node name="MinersLeft" type="ReferenceRect" parent="Viewport/AspectRatio/Columns"]
layout_mode = 2
size_flags_horizontal = 3
border_color = Color(0, 0, 100, 1)
border_width = 2.0

[node name="MinersRight" type="ReferenceRect" parent="Viewport/AspectRatio/Columns"]
layout_mode = 2
size_flags_horizontal = 3
border_color = Color(0, 100, 0, 1)
border_width = 2.0

[node name="TeamPanelLeft" parent="Viewport" instance=ExtResource("5_120pg")]
layout_mode = 0

[node name="BalanceGauge" parent="Viewport/TeamPanelLeft/Rows/Balance/Margin" index="0"]
values = {
1: 0,
2: 0,
3: 0
}

[node name="Grid" parent="Viewport/TeamPanelLeft/Rows/Debug/Margin" index="0" node_paths=PackedStringArray("game_controller")]
game_controller = NodePath("../../../../../../GameController")

[node name="TeamPanelRight" parent="Viewport" instance=ExtResource("5_120pg")]
layout_mode = 1
anchors_preset = 1
anchor_left = 1.0
anchor_right = 1.0
offset_left = -210.0
offset_right = 0.0
offset_bottom = 428.0
grow_horizontal = 0

[node name="Label" parent="Viewport/TeamPanelRight/Rows/Name/Margin" index="0"]
size_flags_horizontal = 8
text = "Team 2"

[node name="Margin" parent="Viewport/TeamPanelRight/Rows/Money" index="0"]
right = true

[node name="Label" parent="Viewport/TeamPanelRight/Rows/Money/Margin" index="0"]
size_flags_horizontal = 8

[node name="Balance" parent="Viewport/TeamPanelRight/Rows" index="2"]
size_flags_horizontal = 8

[node name="BalanceGauge" parent="Viewport/TeamPanelRight/Rows/Balance/Margin" index="0"]
values = {
1: 0,
2: 0,
3: 0
}

[node name="Gauge" parent="Viewport/TeamPanelRight/Rows/Balance/Margin/BalanceGauge/Gauge1" index="1"]
fill_mode = 1

[node name="Gauge" parent="Viewport/TeamPanelRight/Rows/Balance/Margin/BalanceGauge/Gauge2" index="1"]
fill_mode = 1

[node name="Gauge" parent="Viewport/TeamPanelRight/Rows/Balance/Margin/BalanceGauge/Gauge3" index="1"]
fill_mode = 1

[node name="Debug" parent="Viewport/TeamPanelRight/Rows" index="3"]
size_flags_horizontal = 8

[node name="Grid" parent="Viewport/TeamPanelRight/Rows/Debug/Margin" index="0" node_paths=PackedStringArray("game_controller")]
game_controller = NodePath("../../../../../../GameController")
team = 2

[node name="MinersLeft" type="Node2D" parent="." node_paths=PackedStringArray("reference_grid")]
script = ExtResource("3_gpr4m")
flipped = null
color = null
animate_color = null
reference_grid = NodePath("../Viewport/AspectRatio/Columns/MinersLeft")

[node name="MinersRight" type="Node2D" parent="." node_paths=PackedStringArray("reference_grid")]
script = ExtResource("3_gpr4m")
flipped = true
color = null
animate_color = null
reference_grid = NodePath("../Viewport/AspectRatio/Columns/MinersRight")

[node name="Camera2D" type="Camera2D" parent="."]
anchor_mode = 0

[editable path="Viewport/TeamPanelLeft"]
[editable path="Viewport/TeamPanelRight"]
[editable path="Viewport/TeamPanelRight/Rows/Balance/Margin/BalanceGauge"]
